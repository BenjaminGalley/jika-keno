<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Simba Bet | Official Lobby</title>
    <style>
        /* =========================================
           1. TOTAL SYSTEM RESET & BLACK THEME
           ========================================= */
        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
            -webkit-tap-highlight-color: transparent; 
            outline: none;
        }

        /* Forces black background to kill white screen bugs */
        html, body { 
            background-color: #000000 !important; 
            color: #ffffff; 
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            width: 100%; 
            height: 100%; 
            overflow-x: hidden;
            position: relative;
        }

        /* =========================================
           2. NAVIGATION BAR
           ========================================= */
        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
            padding: 0 15px;
            background: #000;
            border-bottom: 1.5px solid #222;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-left { display: flex; align-items: center; gap: 12px; }
        
        .burger-btn {
            background: #f0f0f0;
            border: none;
            width: 34px;
            height: 30px;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            padding: 6px;
            cursor: pointer;
        }
        .burger-line { background: #111; height: 3px; width: 100%; border-radius: 2px; }

        .logo-branding {
            color: #f1c40f;
            font-weight: 900;
            font-size: 1.1rem;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
        }
        .x-yellow-box {
            background: #f1c40f;
            color: #000;
            padding: 1px 6px;
            font-weight: 900;
            border-radius: 2px;
            margin-right: 6px;
            font-size: 0.9rem;
        }

        .nav-right-bal { text-align: right; }
        .bal-tiny-text { font-size: 0.6rem; color: #777; font-weight: 800; letter-spacing: 0.5px; }
        .bal-amount-display { color: #f1c40f; font-weight: 900; font-size: 1.15rem; display: block; margin-top: -2px; }

        /* =========================================
           3. SIMBA HERO BANNER
           ========================================= */
        .hero-banner-box {
            width: 100%;
            background: #000;
            border-bottom: 3px solid #f1c40f; /* Gold underline for the lion */
            line-height: 0;
            overflow: hidden;
        }

        .hero-banner-box img {
            width: 100%;
            height: auto;
            display: block;
            /* Keeps the lion and text clear */
            max-height: 260px;
            object-fit: cover;
        }

        /* =========================================
           4. GAME GRID & HEADERS
           ========================================= */
        .section-title {
            padding: 18px 15px 12px 15px;
            color: #f1c40f;
            font-weight: 900;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #000;
        }

        .game-grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            padding: 0 15px 110px 15px;
            background: #000;
        }

        .game-tile {
            background: linear-gradient(145deg, #111, #050505);
            border: 1px solid #282828;
            border-radius: 12px;
            padding: 18px 5px;
            text-align: center;
            border-bottom: 3px solid #222;
            cursor: pointer;
        }
        
        .game-tile:active { 
            border-bottom: 3px solid #f1c40f; 
            background: #1a1a1a;
            transform: translateY(2px);
        }

        .game-img { width: 45px; height: 45px; margin-bottom: 10px; object-fit: contain; }
        .game-label { font-size: 0.72rem; font-weight: 800; color: #ffffff; text-transform: capitalize; }

        /* Custom Visuals for Keno/Multi */
        .keno-cyan { color: #00f2ff; font-weight: 900; font-size: 1.3rem; margin-bottom: 10px; text-shadow: 0 0 8px rgba(0,242,255,0.3); }
        .multi-red { color: #ff3e3e; font-weight: 900; font-size: 1.3rem; margin-bottom: 10px; text-shadow: 0 0 8px rgba(255,62,62,0.3); }

        /* =========================================
           5. FIXED FOOTER STATUS
           ========================================= */
        .footer-status {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: #0a0a0a;
            border-top: 1px solid #1a1a1a;
            padding: 14px 20px;
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            font-weight: 800;
            z-index: 2000;
        }
        .status-dot { color: #2ecc71; margin-left: 5px; }
    </style>
</head>
<body>

    <header class="top-nav">
        <div class="nav-left">
            <div class="burger-btn" onclick="toggleMenu()">
                <div class="burger-line"></div>
                <div class="burger-line"></div>
                <div class="burger-line"></div>
            </div>
            <div class="logo-branding">
                <span class="x-yellow-box">X</span> SIMBA BET
            </div>
        </div>
        <div class="nav-right-bal">
            <span class="bal-tiny-text">BALANCE</span>
            <span class="bal-amount-display"><span id="headerBal">0.00</span> <small style="font-size:0.6rem;">ETB</small></span>
        </div>
    </header>

    <div class="hero-banner-box">
        <img src="assets/assets/simba_bg.jpg" alt="Simba Bet Banner">
    </div>

    <h2 class="section-title">NEW & HOT üî•</h2>
    
    <div class="game-grid-container">
        <div class="game-tile" onclick="location.href='lionscratch.html'">
            <img src="https://cdn-icons-png.flaticon.com/512/616/616412.png" class="game-img">
            <p class="game-label">Lion Scratch</p>
        </div>

        <div class="game-tile" onclick="location.href='multi5.html'">
            <div class="multi-red">√ó5</div>
            <p class="game-label">Multi Hot 5</p>
        </div>

        <div class="game-tile" onclick="location.href='fastkeno.html'">
            <div class="keno-cyan">KENO</div>
            <p class="game-label">Fast Keno 80</p>
        </div>

        <div class="game-tile" onclick="location.href='aviator.html'">
            <img src="https://cdn-icons-png.flaticon.com/512/5351/5351486.png" class="game-img">
            <p class="game-label">Aviator X</p>
        </div>

        <div class="game-tile" onclick="location.href='megawheel.html'">
            <img src="https://cdn-icons-png.flaticon.com/512/1055/1055823.png" class="game-img">
            <p class="game-label">Mega Wheel</p>
        </div>

        <div class="game-tile" onclick="location.href='dice.html'">
            <img src="https://cdn-icons-png.flaticon.com/512/2933/2933116.png" class="game-img">
            <p class="game-label">Dice Roll</p>
        </div>
    </div>

    <footer class="footer-status">
        <div style="color:#666;">PLAYER ID: <span id="footerID" style="color:#f1c40f;">SB-....</span></div>
        <div style="color:#ffffff;">STATUS:<span class="status-dot">Online ‚óè</span></div>
    </footer>

    <script>
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzI2sCF2oVeQOSwND3nrF_c9I6wHUVKfb2CpQD6g_F__tZuBWc6NkpecpFwTtEd8bW5/exec';

        async function refreshSimbaData() {
            const stored = localStorage.getItem('simba_active_user');
            if (!stored) {
                window.location.href = 'login.html';
                return;
            }
            const user = JSON.parse(stored);
            try {
                // Fetch from your Google Sheet
                const res = await fetch(`${SCRIPT_URL}?action=getBalance&phone=${user.phone}`);
                const data = await res.json();
                const balValue = data.balance || data.approvedAmount || 0;
                
                // Update UI elements
                document.getElementById('headerBal').innerText = parseFloat(balValue).toFixed(2);
                document.getElementById('footerID').innerText = "SB-" + user.phone.toString().slice(-4);
                
                // Keep memory updated
                user.balance = balValue;
                localStorage.setItem('simba_active_user', JSON.stringify(user));
            } catch (err) { 
                console.log("System syncing..."); 
            }
        }

        function toggleMenu() {
            // Placeholder for sidebar menu logic
            alert("Menu sidebar loading...");
        }

        window.onload = () => {
            refreshSimbaData();
            // Faster sync for better user experience
            setInterval(refreshSimbaData, 8000);
        };
    </script>

</body>
</html>
