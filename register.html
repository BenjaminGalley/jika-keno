<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Register | Simba Bet Official</title>
    <link href="https://fonts.googleapis.com/css2?family=Goldman:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #fcc201; --bg: #05070a; --card: #111827; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            background: var(--bg); color: white; font-family: 'Goldman', sans-serif;
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
        }
        .reg-card { 
            background: var(--card); width: 90%; max-width: 400px; padding: 30px; 
            border-radius: 20px; border: 1px solid #222; border-top: 5px solid var(--gold);
            box-shadow: 0 20px 40px rgba(0,0,0,0.7);
        }
        h2 { text-align: center; color: var(--gold); letter-spacing: 2px; margin-bottom: 5px; }
        .sub { text-align: center; color: #777; font-size: 12px; margin-bottom: 25px; }
        
        .input-group { margin-bottom: 15px; position: relative; }
        label { display: block; font-size: 10px; color: var(--gold); margin-bottom: 5px; text-transform: uppercase; }
        input { 
            width: 100%; padding: 15px; background: #000; border: 1.5px solid #333; 
            border-radius: 10px; color: white; font-family: 'Goldman'; outline: none;
        }
        input:focus { border-color: var(--gold); }
        
        .toggle-eye { 
            position: absolute; right: 15px; top: 38px; cursor: pointer; color: var(--gold); font-size: 18px;
        }

        .btn-reg { 
            width: 100%; padding: 18px; background: var(--gold); border: none; 
            border-radius: 10px; font-weight: 900; cursor: pointer; margin-top: 10px;
            font-family: 'Goldman'; text-transform: uppercase;
        }
        .link { text-align: center; margin-top: 20px; font-size: 13px; color: #aaa; cursor: pointer; }
    </style>
</head>
<body>

    <div class="reg-card">
        <h2>REGISTER</h2>
        <p class="sub">CREATE YOUR CASINO ID</p>

        <div class="input-group">
            <label>Full Name / ·àô·àâ ·àµ·àù</label>
            <input type="text" id="regName" placeholder="Enter Full Name">
        </div>

        <div class="input-group">
            <label>Phone Number / ·àµ·àç·ä≠ ·âÅ·å•·à≠</label>
            <input type="tel" id="regPhone" placeholder="09... or 07...">
        </div>

        <div class="input-group">
            <label>Create Password / ·àö·àµ·å•·à≠ ·âÉ·àç</label>
            <input type="password" id="regPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            <span class="toggle-eye" onclick="toggleView('regPass')">üëÅÔ∏è</span>
        </div>

        <button class="btn-reg" id="regBtn" onclick="handleRegister()">CREATE ACCOUNT</button>
        
        <div class="link" onclick="location.href='login.html'">Already have an account? Login</div>
    </div>

    <script>
        const SCRIPT_URL = "YOUR_DEPLOYED_SCRIPT_URL_HERE";

        function toggleView(id) {
            const input = document.getElementById(id);
            input.type = input.type === "password" ? "text" : "password";
        }

        async function handleRegister() {
            const name = document.getElementById('regName').value.trim();
            const phone = document.getElementById('regPhone').value.trim();
            const pass = document.getElementById('regPass').value.trim();
            const btn = document.getElementById('regBtn');

            if(!name || !phone || !pass) return alert("Please fill all fields!");

            btn.disabled = true;
            btn.innerText = "CREATING ID...";

            try {
                const url = `${SCRIPT_URL}?action=register&phone=${phone}&pass=${encodeURIComponent(pass)}&name=${encodeURIComponent(name)}`;
                const response = await fetch(url);
                const data = await response.json();

                if(data.status === "SUCCESS") {
                    alert("Welcome! Your Unique ID is: " + data.id);
                    // Save session
                    localStorage.setItem('simba_active_user', JSON.stringify({
                        phone: phone,
                        name: name,
                        id: data.id,
                        balance: 0
                    }));
                    location.href = "index.html";
                } else {
                    alert("This phone number is already registered!");
                    btn.disabled = false;
                    btn.innerText = "CREATE ACCOUNT";
                }
            } catch (e) {
                alert("Connection Error. Try again.");
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
